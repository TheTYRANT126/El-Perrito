<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>El Perrito — Panel de Administración</title>
    <link rel="stylesheet" href="../src/css/main.css">
    <link rel="stylesheet" href="../src/css/admin-dashboard.css">
</head>

<body>
    <header class="header">
        <a href="../index.html"><img class="logo" src="../src/assets/logo.png" alt="El Perrito"></a>
        <nav class="nav">
            <a href="../index.html">Inicio</a>
            <a href="cart.html">Carrito</a>
            <a id="accountLink" href="login.html">Cuenta</a>
        </nav>
    </header>

    <div class="container">
        <div class="admin-header">
            <h1 id="adminTitle">Panel de Administración</h1>
            <p id="adminSubtitle"></p>
        </div>

        <!-- Pestañas -->
        <div class="tabs">
            <button class="tab active" data-tab="dashboard">Dashboard</button>
            <button class="tab" data-tab="productos">Productos</button>
            <button class="tab" data-tab="usuarios" id="tabUsuarios">Usuarios</button>
            <button class="tab" data-tab="clientes" id="tabClientes">Clientes</button>
        </div>

        <!-- Contenido de Dashboard -->
        <div class="tab-content active" id="dashboard-content">
            <div class="stats-grid">
                <!-- Ventas (Solo Admin) -->
                <div class="stat-card admin-only">
                    <h3>Ventas Hoy</h3>
                    <p class="stat-value" id="ventasHoy">$0.00</p>
                    <p class="stat-label">Total del día</p>
                </div>

                <div class="stat-card admin-only">
                    <h3>Ventas del Mes</h3>
                    <p class="stat-value" id="ventasMes">$0.00</p>
                    <p class="stat-trend" id="tendenciaVentas"></p>
                </div>

                <div class="stat-card admin-only">
                    <h3>Órdenes Hoy</h3>
                    <p class="stat-value" id="ordenesHoy">0</p>
                    <p class="stat-label">Pedidos procesados</p>
                </div>

                <!-- Inventario (Todos) -->
                <div class="stat-card success">
                    <h3>Productos Activos</h3>
                    <p class="stat-value" id="productosActivos">0</p>
                    <p class="stat-label">En catálogo</p>
                </div>

                <div class="stat-card warning">
                    <h3>Stock Bajo</h3>
                    <p class="stat-value" id="stockBajo">0</p>
                    <p class="stat-label">Productos por reabastecer</p>
                </div>

                <div class="stat-card danger">
                    <h3>Agotados</h3>
                    <p class="stat-value" id="productosAgotados">0</p>
                    <p class="stat-label">Sin existencias</p>
                </div>

                <!-- Clientes (Solo Admin) -->
                <div class="stat-card admin-only">
                    <h3>Total Clientes</h3>
                    <p class="stat-value" id="totalClientes">0</p>
                    <p class="stat-label">Registrados</p>
                </div>

                <!-- Clientes Nuevos (Solo Admin) -->
                <div class="stat-card admin-only">
                    <h3>Clientes Nuevos Este Mes</h3>
                    <p class="stat-value" id="clientesNuevosMes">0</p>
                    <p class="stat-trend" id="tendenciaClientes"></p>
                </div>
            </div>

            <!-- Top Productos y Actividades Recientes (Solo Admin) -->
            <div class="dashboard-row admin-only">
                <div class="card" style="flex: 1;">
                    <h3>Top 5 Productos Más Vendidos</h3>
                    <div id="topProductos" style="margin-top: 1rem;">
                        <p style="text-align: center; color: #999;">Cargando...</p>
                    </div>
                </div>

                <div class="card" style="flex: 1;">
                    <h3>Actividades Recientes</h3>
                    <div id="actividadesRecientes" style="margin-top: 1rem;">
                        <p style="text-align: center; color: #999;">Cargando...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contenido de Productos -->
        <div class="tab-content" id="productos-content">
            <div class="card">
                <div class="search-bar">
                    <input type="text" id="searchProductos" placeholder="Buscar por nombre o ID">
                    <button class="btn primary" id="btnSearchProductos">Buscar</button>
                    <button class="btn outline" id="btnClearProductos">Limpiar</button>
                    <button class="btn success" id="btnCrearProducto" style="margin-left: auto;">Registrar Producto</button>
                </div>

                <div class="table-wrapper">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Imagen</th>
                                <th>Nombre</th>
                                <th>Precio</th>
                                <th>Existencia</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="productosTableBody">
                            <tr>
                                <td colspan="7" style="text-align: center;">Cargando...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pagination" id="productosPagination"></div>
            </div>
        </div>

        <!-- Contenido de Usuarios -->
        <div class="tab-content" id="usuarios-content">
            <div class="card">
                <div class="search-bar">
                    <input type="text" id="searchUsuarios" placeholder="Buscar por nombre o email">
                    <button class="btn primary" id="btnSearchUsuarios">Buscar</button>
                    <button class="btn outline" id="btnClearUsuarios">Limpiar</button>
                    <button class="btn success" id="btnCrearUsuario" style="margin-left: auto;">Registrar Usuario</button>
                </div>

                <div class="table-wrapper">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Email</th>
                                <th>Rol</th>
                                <th>Estado</th>
                                <th>Registro</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="usuariosTableBody">
                            <tr>
                                <td colspan="7" style="text-align: center;">Cargando...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pagination" id="usuariosPagination"></div>
            </div>
        </div>

        <!-- Contenido de Clientes -->
        <div class="tab-content" id="clientes-content">
            <div class="card">
                <div class="search-bar">
                    <input type="text" id="searchClientes" placeholder="Buscar por nombre o email">
                    <button class="btn primary" id="btnSearchClientes">Buscar</button>
                    <button class="btn outline" id="btnClearClientes">Limpiar</button>
                </div>

                <div class="table-wrapper">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Email</th>
                                <th>Teléfono</th>
                                <th>Registro</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="clientesTableBody">
                            <tr>
                                <td colspan="6" style="text-align: center;">Cargando...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pagination" id="clientesPagination"></div>
            </div>
        </div>
    </div>

    <script type="module" src="../src/js/header.js"></script>
    <script src="../src/js/admin-dashboard.js"></script>
</body>

</html>
